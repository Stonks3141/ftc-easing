# ftc-easing

This repository is a proof-of-concept for non-blocking eased motor controls in
Java. It could be used in combination with an odometry library like Roadrunner.

This is now an archive repository.

## Usage



Follow the instructions on the releases page. Enter numbers in the command line,
and it will display the change of motor power over time. If you enter a number
while a transition is in progress, it will restart the transition.

## Overview

A `BlockingQueue` is used to send messages to motors, each of which has its own
thread. The messages are received and processed quickly, barely blocking the
sender. Upon receiving a message, the motor begins
transitioning to the new power. If a transition is already in progress, it
begins a new one to ensure smoothness is maintained.

This example's implementation of a `Motor` prints a line of text to represent
power changes for easy visualization.

Some easing functions are available at [easings.net](https://easings.net).
easeInOutSine is used here.

An easing function that maps a range [0, 1] to [0, 1] can be made to transition
between two values using this formula:

![math](math.svg)

[Demonstration on Desmos](https://www.desmos.com/calculator/5xyatl4dun)

## Example

```text
    // First message is sent
Beginning transition to 80% power
[------------------------------------------------------------------------] 0%
[------------------------------------------------------------------------] 0%
[#-----------------------------------------------------------------------] 2%
[###---------------------------------------------------------------------] 4%
[#####-------------------------------------------------------------------] 7%
[########----------------------------------------------------------------] 12%
[############------------------------------------------------------------] 16%
[################--------------------------------------------------------] 22%
[####################----------------------------------------------------] 28%
[########################------------------------------------------------] 34%
[#############################-------------------------------------------] 40%
[#################################---------------------------------------] 47%
[######################################----------------------------------] 53%
[##########################################------------------------------] 59%
[##############################################--------------------------] 64%
[#################################################-----------------------] 69%
[####################################################--------------------] 73%
[#######################################################-----------------] 76%
[########################################################----------------] 78%
    // Another is sent while transition is in progress
Beginning transition to 9% power
[########################################################----------------] 78%
[########################################################----------------] 78%
[#######################################################-----------------] 76%
[#####################################################-------------------] 74%
[###################################################---------------------] 71%
[#################################################-----------------------] 68%
[##############################################--------------------------] 64%
[##########################################------------------------------] 59%
[######################################----------------------------------] 54%
[###################################-------------------------------------] 48%
[###############################-----------------------------------------] 43%
[###########################---------------------------------------------] 37%
[#######################-------------------------------------------------] 32%
[###################-----------------------------------------------------] 27%
[################--------------------------------------------------------] 22%
[#############-----------------------------------------------------------] 18%
[##########--------------------------------------------------------------] 14%
[########----------------------------------------------------------------] 12%
[#######-----------------------------------------------------------------] 10%
[######------------------------------------------------------------------] 9%
[######------------------------------------------------------------------] 9%
```
